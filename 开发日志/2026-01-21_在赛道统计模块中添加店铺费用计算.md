# 在赛道统计模块中添加店铺费用计算

## 任务描述
根据用户提供的补充数据，修改赛道统计模块，在计算总净利润时加入店铺费用，并在统计表格中显示店铺费用数据。

## 完成的工作

### 1. 修改TrackStatistics模型
- **文件路径**: `admin-panel/models/TrackStatistics.php`
- **修改内容**:
  - 添加获取每个赛道店铺费用的SQL查询
  - 在合并数据时包含店铺费用数据
  - 更新总净利润的计算公式，加入店铺费用
  - 在结果数组中添加店铺费用字段

### 2. 修改dashboard.php视图
- **文件路径**: `admin-panel/views/dashboard.php`
- **修改内容**:
  - 在赛道统计表格的表头中添加"店铺费用"列
  - 在表格数据行中添加店铺费用的显示

### 3. 技术细节
- **店铺费用查询**: 使用左连接（LEFT JOIN）将shop_costs表与store表关联，通过platform_name和store_name匹配
- **货币转换**: 将店铺费用从人民币转换为美元（假设汇率为7.0）
- **净利润计算**: 总净利润 = 总毛利润 - 总赛道费用 - 公司成本分摊 - 店铺费用
- **数据显示**: 在赛道统计表格中添加店铺费用列，显示转换后的美元金额

### 4. 验证更新
- 使用 `php -l` 命令检查修改后的文件
- 确认没有语法错误

## 结论
已成功在赛道统计模块中添加店铺费用的计算和显示。现在总净利润的计算会考虑店铺费用，并且在统计表格中会显示店铺费用数据，确保了统计结果的准确性和完整性。
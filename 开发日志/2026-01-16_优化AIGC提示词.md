# 2026-01-16 优化AIGC提示词

## 优化背景
AIGC功能已经能正常运行并生成图片，但生成结果与预期不符，需要优化提示词以获得更好的效果。

## 优化内容

### 1. 批量去瑕疵
**原提示词**："请去除图片瑕疵，调整亮度对比度，保持{$width}x{$height}像素，返回jpg格式。"
**新提示词**："请仔细去除图片中的所有瑕疵（包括划痕、污渍、噪点等），优化整体亮度和对比度，使图片更加清晰明亮，保持{$width}x{$height}像素尺寸，确保主体细节完整，返回高质量jpg格式。"

### 2. 批量抠图(PNG)
**原提示词**："请将图片中的主体抠出，去除背景，返回PNG格式带透明通道。"
**新提示词**："请精确抠出图片中的主体，确保边缘光滑自然，完全去除背景，保留主体的所有细节（包括毛发、半透明部分等），返回高质量PNG格式，带完整透明通道。"

### 3. 批量抠图(白底)
**原提示词**："请将图片中的主体抠出，放置在白色背景上，保持{$width}x{$height}像素，主体占比约{$subject_ratio_percent}%，返回jpg格式。"
**新提示词**："请精确抠出图片中的主体，确保边缘光滑自然，将主体放置在纯白色背景上，保持{$width}x{$height}像素尺寸，主体居中且占比约{$subject_ratio_percent}%，优化主体亮度和对比度，返回高质量jpg格式。"

### 4. 批量改尺寸
**原提示词**："请将图片按{$resize_option['ratio']}的比例调整尺寸，保持原始宽高比，返回jpg格式。"
**新提示词**："请按{$resize_option['ratio']}的比例调整图片尺寸，严格保持原始宽高比，确保图片清晰无模糊，优化细节和色彩，返回高质量jpg格式。"

**原提示词**："请将图片调整为{$width}x{$height}像素，返回jpg格式。"
**新提示词**："请将图片精确调整为{$width}x{$height}像素尺寸，保持图片清晰无变形，优化细节和色彩，确保主体完整，返回高质量jpg格式。"

### 5. 批量打水印
**原提示词**："请在图片的{$position}位置添加文字水印'{$watermark_option['text']}'，返回jpg格式。"
**新提示词**："请在图片的{$position}位置添加文字水印'{$watermark_option['text']}'，水印大小适中（约占图片宽度的10%），透明度约30%，不影响主体内容的查看，返回高质量jpg格式。"

### 6. 智能换脸
**原提示词**："请将图片中的人脸替换为目标人脸，保持图片自然，返回jpg格式。"
**新提示词**："请将图片中的人脸自然替换为目标人脸，确保肤色、光线、角度完全匹配，表情自然协调，无明显拼接痕迹，保持图片整体风格一致，返回高质量jpg格式。"

### 7. 图生图
**原提示词**："根据原图生成新图片，相似度为{$strength}（值越小越接近原图），新图片的描述：{$prompt}，保持图片质量清晰。"
**新提示词**："基于原图内容，按照'{$prompt}'的描述生成新图片，与原图的相似度为{$strength}（值越小越接近原图），保持图片高清清晰，色彩鲜艳，细节丰富，构图合理，返回高质量图片。"

### 8. 文生图
**原提示词**："根据文字描述生成图片：{$prompt}，保持图片质量清晰。"
**新提示词**："请根据文字描述'{$prompt}'生成高质量图片，确保内容准确，细节丰富，色彩鲜艳，构图合理，光线自然，返回高清图片。"

## 优化效果
- 提示词更加详细和明确，能够更好地指导AI生成符合预期的图片
- 添加了对图片质量、细节、色彩等方面的要求
- 明确了主体处理的具体要求
- 提高了生成结果的可控性和一致性

## 修改文件
- `c:\Users\hzf16\Desktop\cz.younger-car.com\admin-panel\models\AIGC.php`
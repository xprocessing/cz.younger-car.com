# 开发日志：修改Costs相关类名和文件名

## 修改时间
2026-01-16

## 修改内容
将Costs相关的类名、控制器文件名、模型文件名、路由文件名和视图目录名修改为ShopCosts，以保持与数据库表名`shop_costs`的一致性。

## 修改的文件

### 1. 模型层
**文件路径：** `admin-panel/models/`
- **重命名文件：** `Costs.php` → `ShopCosts.php`
- **修改类名：** `class Costs` → `class ShopCosts`
- **内部变量：** `$this->db` 保持不变，因为它是数据库连接实例

### 2. 控制层
**文件路径：** `admin-panel/controllers/`
- **重命名文件：** `CostsController.php` → `ShopCostsController.php`
- **修改类名：** `class CostsController` → `class ShopCostsController`
- **内部变量：** `$this->costsModel` → `$this->shopCostsModel`
- **模型引用：** `new Costs()` → `new ShopCosts()`
- **URL重定向：** 所有`/costs.php` → `/shop_costs.php`

### 3. 路由层
**文件路径：** `admin-panel/`
- **重命名文件：** `costs.php` → `shop_costs.php`
- **控制器引用：** `CostsController` → `ShopCostsController`
- **变量名：** `$costsController` → `$shopCostsController`

### 4. 视图层
**目录重命名：** `admin-panel/views/costs/` → `admin-panel/views/shop_costs/`

**视图文件中的URL引用更新：**
- `index.php`：所有`/costs.php` → `/shop_costs.php`
- `create.php`：所有`/costs.php` → `/shop_costs.php`
- `edit.php`：所有`/costs.php` → `/shop_costs.php`
- `import.php`：所有`/costs.php` → `/shop_costs.php`

### 5. 布局文件
**文件路径：** `admin-panel/views/layouts/header.php`
- **菜单链接：** `/costs.php` → `/shop_costs.php`
- **激活状态判断：** `basename($_SERVER['PHP_SELF']) == 'costs.php'` → `basename($_SERVER['PHP_SELF']) == 'shop_costs.php'`

### 6. 外部链接
**文件路径：** `index.html`
- **外部链接：** `admin-panel/costs.php` → `admin-panel/shop_costs.php`

## 验证情况
- 模型类名和文件已正确更新
- 控制器类名和文件已正确更新
- 路由文件已正确更新
- 视图目录已正确重命名
- 所有URL引用已正确更新
- 菜单链接和外部链接已正确更新

## 注意事项
- 所有修改已保持了代码的功能一致性
- 数据库表名`shop_costs`保持不变
- 费用类型字段`cost_type`的功能不受影响
- 导入导出功能的逻辑保持不变

## 后续建议
- 测试所有功能，确保修改后没有引入新的问题
- 检查是否有其他地方可能引用了旧的类名或文件名
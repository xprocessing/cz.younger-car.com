javascript:(function(){const o=window.location.origin;let e=o+"/bin/purchaseHistory?item=";const t="点击查看";const n=document.querySelectorAll("span[data-item-id]");const i=document.getElementById("ebay-item-preview-container");i&&i.remove();const d=document.createElement("div");d.id="ebay-item-preview-container";Object.assign(d.style,{position:"fixed",top:"0",right:"-60%",width:"60%",height:"100vh",backgroundColor:"#fff",borderLeft:"1px solid #ccc",boxShadow:"-2px 0 10px rgba(0,0,0,0.1)",zIndex:"9999999",transition:"right 0.3s ease-in-out",overflow:"hidden",borderRadius:"5px 0 0 5px"});const a=document.createElement("div");a.textContent="加载中...";Object.assign(a.style,{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",fontSize:"16px",color:"#666"});d.appendChild(a);const r=document.createElement("button");r.textContent="×";Object.assign(r.style,{position:"absolute",top:"10px",right:"10px",backgroundColor:"rgba(0,0,0,0.5)",color:"white",border:"none",borderRadius:"50%",width:"24px",height:"24px",cursor:"pointer",fontSize:"16px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:"10"});r.addEventListener("click",()=>{d.style.right="-60%"});d.appendChild(r);const s=document.createElement("iframe");Object.assign(s.style,{width:"100%",height:"100%",border:"none"});d.appendChild(s);document.body.appendChild(d);n.forEach(l=>{const c=l.getAttribute("data-item-id");if(!c)return;const p=l.parentElement?.parentElement;if(!p)return;if(p.querySelector(".ebay-item-link"))return;const u=document.createElement("a");u.href=`${e}${c}`;u.target="_blank";u.textContent=t;u.className="ebay-item-link";Object.assign(u.style,{marginLeft:"10px",padding:"3px 8px",border:"1px solid #007bff",borderRadius:"4px",color:"#007bff",textDecoration:"none",cursor:"pointer",fontSize:"12px",display:"inline-block"});u.addEventListener("mouseenter",()=>{s.src=`${e}${c}`;d.style.right="0";a.style.display="flex"});u.addEventListener("mouseleave",()=>{setTimeout(()=>{if(!d.matches(":hover")){d.style.right="-60%"}},100)});d.addEventListener("mouseenter",()=>{d.style.right="0"});d.addEventListener("mouseleave",()=>{d.style.right="-60%"});s.addEventListener("load",()=>{a.style.display="none"});p.appendChild(u)});console.log(`已为 ${n.length} 个商品添加查看链接和悬停预览功能！`);})();
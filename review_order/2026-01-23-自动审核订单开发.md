# 1.获取所有店铺信息，店铺store_id，平台名称platform_name
 请求  https://cz.younger-car.com/xlingxing/php/get_store.php
 解析返回的json数据，参照store.json 提取store_id和platform_name为数组 store_list
 python写一个函数 get_store_list() ，返回 store_list

 
# 2.获取所有物流渠道信息
 https://cz.younger-car.com/xlingxing/php/get_listUsedLogisticsType.php?provider_type=2
 解析返回的json数据，参照logistics.json 提取 type_id , code , logistics_provider_name,wid 为数组 logistics_list
 python写一个函数 get_logistics_list() ，返回 logistics_list


# 3.获取待审核订单列表信息（sku，订单金额，采购金额，订单号，店铺id，订单创建时间，订单状态等）
 https://cz.younger-car.com/xlingxing/php/get_orders.php?nDaysAgo=2 
 解析返回的json数据，参照orders.json 提取global_order_no,store_id,local_sku,global_purchase_time,wid,receiver_country_code,city ,postal_code,order_total_amount,,,  为数组 orders_list
 python写一个函数 get_orders_list() ，返回 orders_list



# 4.通过sku查询库存 
https://cz.younger-car.com/xlingxing/php/get_inventoryDetails.php?sku=NI-C63-FL-GB
python写一个函数 get_inventory_details(sku) ，传入sku，拼接url，请求ulr，返回 inventory_details数组
返回的json数据，参照inventory.json 提取 wid,sku, product_valid_num ,average_age为数组 inventory_details



# 5.通过sku获取中邮的产品规格：返回sku，重量，长宽高 
http://cz.younger-car.com/yunfei_kucun/api_ems/get_product.php?page=1&pageSize=10&sku=NI-C63-FL-GB

python 写一个函数 get_ems_product_spec(sku) ，传入sku，拼接url，请求ulr，返回 product_spec字典
返回的json数据，参照json 提取 sku,weight,length,width,height 为字典 product_spec


 ```json

{ "sku": "NI-C63-FL-GB", "weight": "5.480", "length": "186.00", "width": "54.00", "height": "186.00" }

```

# 6.获取中邮运费试算api ：返回仓库，物流渠道，运费
 http://cz.younger-car.com/yunfei_kucun/api_ems/get_ship_fee_api.php?postcode=90210&weight=1.5&warehouse=USEA,USWE&channel=USPS-PRIORITY,AMAZON-GROUND&length=26&width=20&height=2

 python写一个函数 get_ems_ship_fee(postcode,weight,warehouse,channel,length,width,height) ，传入postcode，weight，warehouse，channel，length，width，height，拼接url，请求ulr，返回 ship_fee数组
返回的json数据，参照json 提取 warehouse,channel,totalFee 为数组 ship_fee

 ```json

[{ "warehouse": "USEA", "channel": "USPS-PRIORITY", "totalFee": 93.76 }, 
{ "warehouse": "USEA", "channel": "AMAZON-GROUND", "totalFee": 213.759675 }, 
{ "warehouse": "USWE", "channel": "USPS-PRIORITY", "totalFee": 96.07 }, 
{ "warehouse": "USWE", "channel": "AMAZON-GROUND", "totalFee": 145.582925 } ]

 ```
# 7.通过sku获取运德的产品规格：返回sku，重量，长宽高 
 https://cz.younger-car.com/yunfei_kucun/api_wd/get_product.php?sku=NI-C63-FL-GB

python 写一个函数 get_wd_product_spec(sku) ，传入sku，拼接url，请求ulr，返回 product_spec字典
返回的json数据，参照json 提取 sku,weight,length,width,height 为字典 product_spec


 ```json
{ "sku": "NI-C63-FL-GB", "weight": "4.7000", "length": "186.00", "width": "52.00", "height": "11.00" }

```

# 8.获取运德的运费试算：返回仓库，物流渠道，运费   
http://cz.younger-car.com/yunfei_kucun/api_wd/get_ship_fee_api.php?channelCode=AMGDCA,CAUSPSGA&country=US&city=LOS ANGELES&postcode=90001&weight=0.079&length=26&width=20&height=2&signatureService=0

python写一个函数 get_wd_ship_fee(channelCode,country,city,postcode,weight,length,width,height,signatureService) ，传入channelCode，country，city，postcode，weight，length，width，height，signatureService，拼接url，请求ulr，返回 ship_fee数组
返回的json数据，参照json 提取 channel,totalFee,currency 为数组 ship_fee



```json

[ { "channel": "AMGDCA", "totalFee": "6.8103", "currency": "USD" }, { "channel": "CAUSPSGA", "totalFee": "7.5800", "currency": "USD" } ]

```


# 9.修改领星订单：通过订单号+ 仓库+物流渠道 发起请求执行
文档说明https://apidoc.lingxing.com/#/docs/MultiPlatform/V2/EditOrderV2

https://cz.younger-car.com/xlingxing/php/edit_order.php?type_id=203571748136745984&wid=5832&global_order_no=103662673459556100
python写一个函数 edit_order(type_id,wid,global_order_no) ，传入type_id，wid，global_order_no拼接url，请求ulr，返回 edit_order_result字典
返回的json数据，参照json 提取 code，message，加上global_order_no  为字典 edit_order_result



```json

{
    "code": 0,
    "message": "订单更新成功",
    "data": {
        "error_details": []
    },
    "request_id": "ad9c1a8625c74f3ea0525e216374e31a.1676514819613",
    "response_time": "2023-02-16 10:33:40"
}
{
    "code": 10000,
    "data": {
        "error_details": [
            {
                "global_order_no": "103662673459556100",
                "error_message": "仅待审核状态支持修改物流方式"
            }
        ]
    },
    "response_time": "2026-01-27 17:52:12",
    "message": "订单更新失败",
    "request_id": "690011e66b6c4088a353e4987d329d75.281.17695075320932051"
}
```


# 10.批量发货 通过订单号发起请求执行
文档说明https://apidoc.lingxing.com/#/docs/MultiPlatform/V2/BatchReviewOrderV2
https://cz.younger-car.com/xlingxing/php/batch_review_order.php?global_order_no=103662673459556100 

python写一个函数 batch_review_order(global_order_no) ，传入global_order_no，拼接url，请求ulr，返回 batch_review_order_result数组
返回的json数据，参照json 提取 success_info，failure_info， 为数组 batch_review_order_result



```json
{
    "code": 0,
    "message": "success",
    "request_id": "faacdb1d437445f1bad7079d03cce8f5.1750727281588",
    "response_time": "2025-06-24 09:08:10",
    "data": {
        "success_num": 1,
        "fail_num": 1,
        "failure_info": [{
            "message": "未设置仓库;未设置物流",
            "global_order_no": "103584428644401152"
        }],
        "success_info": [{
            "global_order_no": "103584102204547072"
        }]
    }
}
```    


# 11.数据存入数据库，使用post请求。

# 12.可视化运行大屏+钉钉通知。


# 订单审核数据表 order_review
```SQL
CREATE TABLE IF NOT EXISTS `order_review` (
	`id` INTEGER NOT NULL AUTO_INCREMENT UNIQUE,
    `store_id` CHAR(50) COMMENT '店铺id',
	`global_order_no` CHAR(50) NOT NULL COMMENT '订单号',
    `local_sku` CHAR(50) NOT NULL COMMENT '本地sku',
    `receiver_country_code` CHAR(10) NOT NULL COMMENT '国家',
    `city` CHAR(50) NOT NULL COMMENT '城市',
    `postal_code` CHAR(20) NOT NULL COMMENT '邮编',
    `wd_yunfei` JSON DEFAULT NULL COMMENT '运德运费（试算数据）',
    `ems_yunfei` JSON DEFAULT NULL COMMENT '中邮运费（试算数据）',
    `wid` INT DEFAULT NULL COMMENT '仓库wid',
    `logistics_type_id` INT DEFAULT NULL COMMENT '物流方式id',
    `estimated_yunfei` VARCHAR(20) DEFAULT NULL COMMENT '预估邮费(带美元/人民币符号)',
	`review_status` VARCHAR(20) DEFAULT NULL COMMENT '审单状态（null/自动审核/人工审核）',
	`review_time` DATETIME COMMENT '审单时间',	
	`review_remark` VARCHAR(255) COMMENT '审单备注',
	PRIMARY KEY(`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='订单审核';

```
#
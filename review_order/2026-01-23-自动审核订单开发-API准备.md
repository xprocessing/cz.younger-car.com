# 1.获取所有店铺信息，店铺store_id，平台名称platform_name
 请求  https://cz.younger-car.com/xlingxing/php/get_store.php
 解析返回的json数据，参照store.json 提取store_id和platform_name为数组 store_list
 python写一个函数 get_store_list() ，返回 store_list

 
# 2.获取所有物流渠道信息
 https://cz.younger-car.com/xlingxing/php/get_listUsedLogisticsType.php?provider_type=2
 解析返回的json数据，参照logistics.json 提取 type_id , code , logistics_provider_name,wid 为数组 logistics_list
 python写一个函数 get_logistics_list() ，返回 logistics_list


# 3.获取待审核订单列表信息（sku，订单金额，采购金额，订单号，店铺id，订单创建时间，订单状态等）
 https://cz.younger-car.com/xlingxing/php/get_orders.php?nDaysAgo=2 
 解析返回的json数据，参照orders.json 提取global_order_no,store_id,local_sku,global_purchase_time,wid,receiver_country_code,city ,postal_code,order_total_amount,,,  为数组 orders_list
 python写一个函数 get_orders_list() ，返回 orders_list
# 只处理wid=0的订单
orders_list = [item for item in orders_list if item["wid"] == "0"]  



# 4.通过sku查询库存 
https://cz.younger-car.com/xlingxing/php/get_inventoryDetails.php?sku=NI-C63-FL-GB
python写一个函数 get_inventory_details(sku) ，传入sku，拼接url，请求ulr，返回 inventory_details数组
返回的json数据，参照inventory.json 提取 wid,sku, product_valid_num ,average_age为数组 inventory_details



# 5.通过sku获取中邮的产品规格：返回sku，重量，长宽高 
http://cz.younger-car.com/yunfei_kucun/api_ems/get_product.php?page=1&pageSize=10&sku=NI-C63-FL-GB&platform_name=

python 写一个函数 get_ems_product_spec(sku) ，传入sku，拼接url，请求ulr，返回 product_spec字典
platform_name参数是可选项，默认为空是查询公共仓，也可以传入Amazon ,eBay, Shopify 选择对应平台的仓库。
返回的json数据，参照json 提取 sku,weight,length,width,height 为字典 product_spec


 ```json

{ "sku": "NI-C63-FL-GB", "weight": "5.480", "length": "186.00", "width": "54.00", "height": "186.00" }

```

# 6.获取中邮运费试算api ：返回仓库，物流渠道，运费
 http://cz.younger-car.com/yunfei_kucun/api_ems/get_ship_fee_api.php?postcode=90210&weight=1.5&warehouse=USEA,USWE&channels=USPS-PRIORITY,AMAZON-GROUND&length=26&width=20&height=2

 python写一个函数 get_ems_ship_fee(postcode,weight,warehouse,channels,length,width,height) ，传入postcode，weight，warehouse，channels，length，width，height，拼接url，请求ulr，返回 ship_fee数组
返回的json数据，参照json 提取 warehouse,channel_code,totalFee,currency 为数组 ship_fee

 ```json

[ { "warehouse": "USEA", "channel_code": "USPS-PRIORITY", "totalFee": 93.76, "currency": "CNY" }, { "warehouse": "USEA", "channel_code": "AMAZON-GROUND", "totalFee": 213.759675, "currency": "CNY" }, { "warehouse": "USWE", "channel_code": "USPS-PRIORITY", "totalFee": 96.07, "currency": "CNY" }, { "warehouse": "USWE", "channel_code": "AMAZON-GROUND", "totalFee": 145.582925, "currency": "CNY" } ]

 ```
# 7.通过sku获取运德的产品规格：返回sku，重量，长宽高 
 https://cz.younger-car.com/yunfei_kucun/api_wd/get_product.php?sku=NI-C63-FL-GB&platform_name=

python 写一个函数 get_wd_product_spec(sku) ，传入sku，拼接url，请求ulr，返回 product_spec数组
platform_name参数是可选项，默认为空是查询公共仓，也可以传入Amazon ,eBay, Shopify 选择对应平台的仓库。
返回的json数据，参照json 提取 sku,weight,length,width,height 为数组 product_spec


 ```json
{ "sku": "NI-C63-FL-GB", "weight": "4.7000", "length": "186.00", "width": "52.00", "height": "11.00" }

```

# 8.获取运德的运费试算：返回仓库，物流渠道，运费   
http://cz.younger-car.com/yunfei_kucun/api_wd/get_ship_fee_api.php?channels=AMGDCA,CAUSPSGA&country=US&city=LOS ANGELES&postcode=90001&weight=0.079&length=26&width=20&height=2&signatureService=0

python写一个函数 get_wd_ship_fee(channels,country,city,postcode,weight,length,width,height,signatureService) ，传入channels，country，city，postcode，weight，length，width，height，signatureService，拼接url，请求ulr，返回 ship_fee字典
返回的json数据，参照json 提取 channel_code,totalFee,currency 为字典 ship_fee



```json

[ { "channel_code": "AMGDCA", "totalFee": "6.6775", "currency": "USD" }, { "channel_code": "CAUSPSGA", "totalFee": "3.8400", "currency": "USD" } ]

```


# 9.修改领星订单：通过订单号+ 仓库+物流渠道 发起请求执行
文档说明https://apidoc.lingxing.com/#/docs/MultiPlatform/V2/EditOrderV2

https://cz.younger-car.com/xlingxing/php/edit_order.php?type_id=203571748136745984&wid=5832&global_order_no=103662673459556100
python写一个函数 edit_order(type_id,wid,global_order_no) ，传入type_id，wid，global_order_no拼接url，请求ulr，返回 edit_order_result字典
返回的json数据，参照json 提取 code，message，加上global_order_no  为字典 edit_order_result



```json

{
    "code": 0,
    "message": "订单更新成功",
    "data": {
        "error_details": []
    },
    "request_id": "ad9c1a8625c74f3ea0525e216374e31a.1676514819613",
    "response_time": "2023-02-16 10:33:40"
}
{
    "code": 10000,
    "data": {
        "error_details": [
            {
                "global_order_no": "103662673459556100",
                "error_message": "仅待审核状态支持修改物流方式"
            }
        ]
    },
    "response_time": "2026-01-27 17:52:12",
    "message": "订单更新失败",
    "request_id": "690011e66b6c4088a353e4987d329d75.281.17695075320932051"
}
```


# 10.批量发货 通过订单号发起请求执行
文档说明https://apidoc.lingxing.com/#/docs/MultiPlatform/V2/BatchReviewOrderV2
https://cz.younger-car.com/xlingxing/php/batch_review_order.php?global_order_no=103662673459556100 

python写一个函数 batch_review_order(global_order_no) ，传入global_order_no，拼接url，请求ulr，返回 batch_review_order_result数组
返回的json数据，参照json 提取 success_info，failure_info， 为数组 batch_review_order_result



```json
{
    "code": 0,
    "message": "success",
    "request_id": "faacdb1d437445f1bad7079d03cce8f5.1750727281588",
    "response_time": "2025-06-24 09:08:10",
    "data": {
        "success_num": 1,
        "fail_num": 1,
        "failure_info": [{
            "message": "未设置仓库;未设置物流",
            "global_order_no": "103584428644401152"
        }],
        "success_info": [{
            "global_order_no": "103584102204547072"
        }]
    }
}
```    


# 11.数据存入数据库，使用post请求。 https://cz.younger-car.com/admin-panel/api/api_order_review.php


curl -X POST http://your-domain/admin-panel/api_order_review.php \
  -H "Content-Type: application/json" \
  -d '{
    "store_id": "STORE001",
    "global_order_no": "ORD20260202001",
    "local_sku": "SKU12345",
    "receiver_country_code": "US",
    "city": "New York",
    "postal_code": "10001",
    "wid": 1,
    "logistics_type_id": 10,
    "estimated_yunfei": "50.00",  
    "review_remark": "测试订单",
    "wd_yunfei": {
      "price": 45.00,
      "currency": "USD"
    },
    "ems_yunfei": {
      "price": 320.00,
      "currency": "CNY"
    }
  }'


# 12.可视化运行大屏+钉钉通知。


# 订单审核数据表 order_review


```
#


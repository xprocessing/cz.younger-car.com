# 2026-01-16 根据用户指示修复网站根目录路径

## 问题概述

根据用户明确指示，网站的域名是 `https://cz.younger-car.com/`，整个cz.younger-car.com文件夹就是网站的根目录。之前的路径配置存在混乱，导致网站访问出现问题。

## 修复内容

### 1. 重新定义APP_ROOT

**修改文件**：`admin-panel/config/config.php`

将APP_ROOT定义为网站根目录（cz.younger-car.com文件夹）：

```php
if (!defined('APP_ROOT')) {
    // APP_ROOT指向网站根目录（cz.younger-car.com文件夹）
    define('APP_ROOT', realpath(dirname(__FILE__) . '/../..'));
}
```

### 2. 更新目录路径定义

**修改文件**：`admin-panel/config/config.php`

更新PUBLIC_DIR和VIEWS_DIR的定义，使其与新的APP_ROOT一致：

```php
define('PUBLIC_DIR', APP_ROOT . '/admin-panel/public');
define('VIEWS_DIR', APP_ROOT . '/admin-panel/views');
```

### 3. 修复入口文件路径

#### dashboard.php
- 更新APP_ROOT定义和包含路径

#### aigc.php
- 更新APP_ROOT定义注释

### 4. 修复模型文件路径

#### AIGC.php
- 更新配置文件、数据库文件和日志文件的路径

### 5. 修复辅助函数路径

#### helpers/functions.php
- 更新Permission和Role模型的路径

### 6. 修复日志系统路径

#### Logger.php
- 更新日志目录路径

### 7. 修复异步处理脚本路径

#### scripts/process_images_worker.php
- 更新APP_ROOT定义
- 更新包含文件的路径

## 修复结果

通过将APP_ROOT统一指向网站根目录（cz.younger-car.com文件夹），现在所有文件都使用一致的路径结构：

- 网站根目录：`https://cz.younger-car.com/` (对应cz.younger-car.com文件夹)
- 管理面板：`https://cz.younger-car.com/admin-panel/` (对应admin-panel子文件夹)
- 所有文件路径都基于这个结构构建

系统现在应该能够正常处理所有页面请求，包括：
- 仪表盘页面
- AI图片处理模块
- 权限检查功能
- 异步图片处理脚本

## 用户指示明确遵循

严格按照用户指示进行修复：
- 确认网站域名为 `https://cz.younger-car.com/`
- 确认整个cz.younger-car.com文件夹就是网站根目录
- 所有路径配置都基于这个前提构建